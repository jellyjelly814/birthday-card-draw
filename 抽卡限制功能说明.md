# 🎯 抽卡次数限制功能说明

## 功能概述

为了增加生日抽卡的珍贵感和公平性，每个访问者只能抽取 **3张卡牌**。

## 🎴 功能特点

### 📊 **智能计数系统**
- 使用浏览器本地存储记录抽卡次数
- 每次抽卡后自动保存计数
- 页面刷新后依然保持计数状态
- 跨浏览器访问独立计算

### 🎮 **用户体验优化**
- **首次访问** - 显示"🎴 开始抽卡 🎴"
- **有剩余次数** - 显示"🎴 再抽一张 (还剩X次) 🎴"  
- **用完次数** - 显示"🎴 今日抽卡已用完 🎴"

### 💡 **实时提示系统**
- 首次访问自动显示规则提示
- 抽卡结果显示剩余次数
- 用完次数后友好提示
- 尝试超额抽卡时温馨提醒

## 🔧 技术实现

### 📱 **本地存储**
```javascript
// 保存键名：jellybirthdayDrawCount
// 存储位置：localStorage
// 数据类型：整数 (0-3)
```

### 🎯 **限制逻辑**
1. 页面加载时读取已抽次数
2. 每次抽卡前检查是否超限
3. 抽卡成功后计数+1并保存
4. 达到3次后禁用所有抽卡功能

## 📱 用户界面变化

### 🎴 **按钮状态变化**
- **0次** - 蓝色按钮，"开始抽卡"
- **1-2次** - 蓝色按钮，显示剩余次数
- **3次** - 灰色按钮，"今日抽卡已用完"

### 📋 **结果展示增强**
抽卡结果页面会显示：
- 卡牌内容（emoji、标题、描述）
- 剩余次数提示框
- 相应的操作按钮状态

## 🛠 管理员功能

### 🔄 **重置功能**
如果需要重置所有用户的抽卡次数：

1. 打开浏览器开发者工具 (F12)
2. 切换到 Console 控制台
3. 输入命令：`resetAllDrawCounts()`
4. 按回车执行

这将清除所有用户的抽卡记录，让大家可以重新开始！

### ⚠️ **重置须知**
- 重置操作会影响所有访问过的用户
- 建议在生日当天开始前执行重置
- 重置后会显示成功提示信息

## 📊 数据持久性

### 💾 **存储特点**
- **本地存储** - 数据保存在用户设备上
- **自动保存** - 无需手动操作
- **持久保存** - 关闭浏览器后依然有效
- **隐私安全** - 不会上传到服务器

### 🔒 **隐私保护**
- 只存储抽卡次数数字
- 不记录个人信息
- 不追踪用户行为
- 完全本地化存储

## 🎉 用户友好提示

### 💬 **温馨提示语**
- "欢迎来到Jelly的生日抽卡罐！每人限制抽卡3次哦～"
- "你还可以再抽 X 张卡牌"
- "你已经用完了所有3次抽卡机会，感谢参与！"
- "你已经抽了3张卡牌了，每人限制3次哦～"

### 🎨 **视觉反馈**
- 剩余次数信息框（紫色边框）
- 禁用按钮变灰色
- "再抽一张"按钮自动隐藏
- 温馨提示Toast消息

## 📱 移动端优化

### 📏 **响应式设计**
- 大屏幕：完整显示所有信息
- 手机屏幕：优化字体大小和间距
- 小屏设备：紧凑布局适配

## 🎯 使用建议

1. **朋友圈发布时** - 提醒朋友每人只能抽3次
2. **生日当天** - 可以重置次数让大家重新开始
3. **特殊活动** - 根据需要调整限制次数

## 💡 自定义修改

如果想修改限制次数，编辑 `script.js` 文件：

```javascript
const MAX_DRAWS = 3; // 改为你想要的次数
```

---

*🎂 让每一次抽卡都变得珍贵，让每一份祝福都值得珍藏！*
